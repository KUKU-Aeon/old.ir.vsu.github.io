!function(t){t.onepress||(t.onepress={}),t.onepress.sociallocker||(t.onepress.sociallocker={}),t.onepress.sociallocker.lang||(t.onepress.sociallocker.lang={}),t.onepress.data||(t.onepress.data={}),t.onepress.sociallocker.lang={defaultHeader:"This content is locked!",defaultMessage:"Please support us, use one of the buttons below to unlock the content.",orWait:"or wait",seconds:"s",close:"Close",error:"error",unableToLoadSDK:"Unable to load SDK script for {0}. Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) can cause this issue. Turn them off and try again.",unableToCreateButton:"Unable to create the button ({0}). Please make sure that nothing blocks loading of social scripts in your browser. Some browser extentions (Avast, PrivDog, AdBlock etc.) can cause this issue. Turn them off and try again.",emptyVKAppIdError:"Please set your VKontakte App ID.",emptyVKGroupIdError:"Please set your VKontakte Group ID that users should subscribe to.",invalidVKGroupIdError:"Please check your VKontakte Group ID. It seems the given group does not exist.",emptyFBAppIdError:"Please set your Facebook App ID.",emptyTwitterFollowUrlError:"Please set an URL of your Twitter profile.",googleClientIdMissed:"The Google Client ID not set. You need to generate a client ID before using the button.",youtubeChannelIdMissed:"The Youtube Channel ID not set. You need to get him in your account.",facebook_like:"like us",facebook_share:"share",twitter_tweet:"tweet",twitter_follow:"follow us on twitter",google_plus:"+1 us",google_share:"share",google_youtube:"Youtube",linkedin_share:"share"},t.onepress.sociallocker.presets||(t.onepress.sociallocker.presets={}),t.onepress.sociallocker.presets.starter={buttons:{layout:"horizontal",counter:!0},effects:{flip:!1}},t.onepress.sociallocker.presets.secrets={buttons:{layout:"horizontal",counter:!0},effects:{flip:!0}},t.onepress.sociallocker.presets.dandyish={buttons:{layout:"vertical",counter:!0,unsupported:["twitter-follow"]},effects:{flip:!1}},t.onepress.sociallocker.presets.glass={_iPhoneBug:!1,buttons:{layout:"horizontal",counter:!0},effects:{flip:!1}},t.onepress.sociallocker.presets.flat={buttons:{layout:"horizontal",counter:!0},effects:{flip:!0}}}(jQuery),function(t){"use strict";t.onepress||(t.onepress={}),t.onepress.sdk||(t.onepress.sdk={}),t.onepress.sdk.facebook=t.onepress.sdk.facebook||{name:"facebook",url1:"//connect.facebook.net/{lang}/all.js",url2:"//connect.facebook.net/{lang}/sdk.js",scriptId:"facebook-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.FB},prepare:function(){0===t("#fb-root").length&&t("<div id='fb-root'></div>").appendTo(t("body"));var e=this.options&&this.options.lang||"en_US";this.url1=this.url1.replace("{lang}",e),this.url2=this.url2.replace("{lang}",e),this.url="v1.0"===this.options.version?this.url1:this.url2},createEvents:function(){var e=this,o=this.isLoaded(),n=function(){window.FB.init({appId:e.options&&e.options.appId||null,status:!0,cookie:!0,xfbml:!0,version:e.options.version}),window.FB.Event.subscribe("edge.create",function(e){t(document).trigger("onp-sl-facebook-like",[e])}),window.FB.init=function(){},t(document).trigger(e.name+"-init")};if(o)return void n();if(window.fbAsyncInit)var s=window.fbAsyncInit;window.fbAsyncInit=function(){n(),s&&s(),window.fbAsyncInit=function(){}}}}}(jQuery),function(t){"use strict";t.onepress||(t.onepress={}),t.onepress.sdk||(t.onepress.sdk={}),t.onepress.sdk.twitter=t.onepress.sdk.twitter||{name:"twitter",url:"//platform.twitter.com/widgets.js",scriptId:"twitter-wjs",timeout:1e4,isLoaded:function(){return"undefined"!=typeof window.__twttrlr},createEvents:function(){var e=this,o=this.isLoaded(),n=function(){t(document).trigger(e.name+"-init")};return o?void n():(window.twttr||(window.twttr={}),window.twttr.ready||(window.twttr=t.extend(window.twttr,{_e:[],ready:function(t){this._e.push(t)}})),void twttr.ready(function(t){n()}))},prepare:function(){var e=function(e){return(e||e.data)&&"string"==typeof e.data?-1!==e.data.indexOf(':["tweet"')?t(document).trigger("onp-sl-twitter-tweet"):-1!==e.data.indexOf(':["follow"')?t(document).trigger("onp-sl-twitter-follow"):void 0:void 0};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)}}}(jQuery),function(t){"use strict";t.onepress||(t.onepress={}),t.onepress.sdk||(t.onepress.sdk={}),t.onepress.sdk.google=t.onepress.sdk.google||{name:"google",url:"//apis.google.com/js/plusone.js",scriptId:"google-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.gapi},prepare:function(){var e=this.options&&this.options.lang||"en";if(window.___gcfg=window.___gcfg||{lang:e},window.onepressPlusOneCallback=function(e){"on"===e.state&&t(document).trigger("onp-sl-google-plus",[e.href])},window.onepressGoogleShareStartInteraction=function(e){t.onepress.data.__googleShareUrl=e.id},!t.onepress.tools.isTabletOrMobile()){var o=function(e){return(e||e.data)&&"string"==typeof e.data&&-1!==e.data.indexOf("::_g_wasClosed")?t(document).trigger("onp-sl-google-share"):void 0};window.addEventListener?window.addEventListener("message",o,!1):window.attachEvent("onmessage",o)}}}}(jQuery),function(t){"use strict";t.onepress||(t.onepress={}),t.onepress.sdk||(t.onepress.sdk={}),t.onepress.sdk.linkedin=t.onepress.sdk.linkedin||{name:"linkedin",url:"//platform.linkedin.com/in.js",scriptId:"linkedin-jssdk",timeout:1e4,isLoaded:function(){return"object"==typeof window.IN},prepare:function(){window.onepressLinkedInShareCallback=function(e){t(document).trigger("onp-sl-linkedin-share",[e])};var e=window.open;window.open=function(o,n,s){console.log(n);var i=e(o,n,s);if(!i)return i;var r=n||i.name;return r?"easyXDM_IN"!==r.substring(0,10)?i:void(t.onepress.sdk.linkedin._activePopup=i):i}}}}(jQuery),function(t){"use strict";t.onepress.sociallocker.google||(t.onepress.sociallocker.google={}),t.onepress.sociallocker.google.youtube={_idx:0,getVerificationData:function(t){return{container:".onp-button-loaded",timeout:15e3}},create:function(e,o,n){var s={googleClientOAuth:!1,_defaults:{clientId:null,channelId:null,layout:"default",counter:1},_create:function(){var e=this;return t.onepress.sociallocker.google.youtube._idx++,this._idx=t.onepress.sociallocker.google.youtube._idx,this._prepareOptions(),e.options.clientId?this.options.channelId?(this._createButton(),this._setupEvents(),this._youtubeApiConnect(),void t.onepress.connector.connect("googleClient",this.options,function(){})):void n.setButtonError(e.element,t.onepress.sociallocker.lang.youtubeChannelIdMissed):void n.setButtonError(e.element,t.onepress.sociallocker.lang.googleClientIdMissed)},_prepareOptions:function(){var e=t.extend({},this._defaults);this.options=t.extend(e,this.options),this.url=URL.normalize(this.options.url||window.location.href),this.scopes="https://www.googleapis.com/auth/youtube"},_setupEvents:function(){var e=this;t(document).bind("google-client-script-loaded",function(){gapi.auth.init(function(){window.setTimeout(function(){e._checkAuthorize()},1)})}),e.pseudoYoutubeButton.on("click",function(){return e.googleClientOAuth?void e._authorize(!1,function(t){e._subscribe(t)}):void e._subscribe()}),t(document).bind("youtube-finish-subscribe",function(t){e.options.unlock("button")}),window["getYoutubeChannelSubscribers_"+e._idx]=function(t){var o=t.entry.yt$statistics.subscriberCount;o||(o=0),e.youtubeButtonCounter.text(e._minimalizeLongInt(o))}},_authorize:function(t,e){var o=this;gapi.auth.authorize({client_id:o.options.clientId,scope:o.scopes,immediate:t},e)},_checkAuthorize:function(){var t=this;this._authorize(!0,function(e){t._handleResult(e)})},_handleResult:function(t){var e=this;return e._unlockLoadingState(),"immediate_failed"===t.error?void(e.googleClientOAuth=!0):void 0},_subscribe:function(){var e=this;gapi.client.load("youtube","v3",function(){var o=gapi.client.youtube.subscriptions.insert({part:"snippet",resource:{snippet:{resourceId:{kind:"youtube#channel",channelId:e.options.channelId}}}});o.execute(function(e){e.error&&"subscriptionDuplicate"!=e.error.data[0].reason||t(document).trigger("youtube-finish-subscribe")})})},_unlockLoadingState:function(){this.button.addClass("onp-button-loaded")},_youtubeApiConnect:function(){t.getScript("https://gdata.youtube.com/feeds/api/users/"+this.options.channelId+"?alt=json-in-script&callback=getYoutubeChannelSubscribers_"+this._idx+"&v=2")},_minimalizeLongInt:function(t){return t>999?"999+":t},_createButton:function(){this.button=t("<div></div>"),this.wrap=t("<div class='onp-social-button onp-youtube-button onp-youtube-subscribe-button'></div>").appendTo(this.element).append(this.button),this.pseudoYoutubeButton=t('<div class="onp-pseudo-youtube-subscribe-button"><i class="onp-youtube-btn-icon"></i> Youtube</div>'),this.youtubeButtonCounter=t('<div class="onp-youtube-subscribe-counter"></div>'),this.button.append(this.pseudoYoutubeButton),this.button.append(this.youtubeButtonCounter),this.options.counter&&this.youtubeButtonCounter.css("display","inline-block")}};return s.element=e,s.options=o,s._create(),s}}}(jQuery),function(t){"use strict";t.onepress||(t.onepress={}),t.onepress.sdk||(t.onepress.sdk={}),t.onepress.sdk.googleClient=t.onepress.sdk.googleClient||{name:"googleClient",url:"//apis.google.com/js/client:platform.js?onload=OnpSL_GoogleClient_Callback",scriptId:"google-client-jssdk",timeout:1e4,isLoaded:function(){return window.gapi&&"object"==typeof window.gapi.auth},prepare:function(){window.OnpSL_GoogleClient_Callback=function(){t(document).trigger("google-client-script-loaded")}}}}(jQuery),function(t){"use strict";t.onepress.sociallocker.facebook||(t.onepress.sociallocker.facebook={}),t.onepress.sociallocker.facebook.like={create:function(e,o){var n={_defaults:{url:null,appId:0,lang:"en_US",layout:"standart",width:"auto",verbToDisplay:"like",colorScheme:"light",font:"tahoma",ref:null,count:"standart",unlock:null},getUrlToLike:function(){return this.url},_create:function(){var e=this;return this._prepareOptions(),this._setupEvents(),this._createButton(),t.onepress.connector.connect("facebook",this.options,function(){e.wrap.find(".fake-fb-like").addClass("fb-like"),e.wrap.find(".fake-fb-share").addClass("fb-share-button"),window.FB.XFBML.parse(e.wrap[0])}),!0},_prepareOptions:function(){var e=t.extend({},this._defaults);this.options=t.extend(e,this.options),this.url=this.options.url},_setupEvents:function(){var e=this;t(document).bind("onp-sl-facebook-like",function(t,o){e.options.unlock&&e.url===URL.normalize(o)&&e.options.unlock("button")})},_createButton:function(){this.button=t("<div class='fake-fb-like' data-show-faces='false'></div>"),this.wrap=t("<div class='onp-social-button onp-facebook-button onp-facebook-like-button'></div>").appendTo(this.element).append(this.button),"none"===this.options.count&&this.wrap.addClass("onp-facebook-like-count-none"),this.wrap.addClass("onp-facebook-like-"+this.options.lang),this.button.data("facebook-widget",this),this.button.attr("data-show-faces",!1),this.button.attr("data-send",!1),this.options.url&&this.button.attr("data-href",this.options.url),this.options.font&&this.button.attr("data-font",this.options.font),this.options.colorScheme&&this.button.attr("data-colorscheme",this.options.colorScheme),this.options.ref&&this.button.attr("data-ref",this.options.ref),this.options.width&&this.button.attr("data-width",this.options.width),this.options.layout&&this.button.attr("data-layout",this.options.layout),this.options.verbToDisplay&&this.button.attr("data-action",this.options.verbToDisplay),this.button.data("url-to-verify",this.url)}};n.element=e,n.options=o;var s=n._create();return s?n:!1}}}(jQuery),function(t){"use strict";t.onepress.sociallocker.facebook||(t.onepress.sociallocker.facebook={}),t.onepress.sociallocker.facebook.share={create:function(e,o,n){var s={_defaults:{url:null,appId:0,layout:"button",count:"standart",lang:"en_US",width:"auto",name:null,caption:null,description:null,image:null,unlock:null},_create:function(){var e=this;return this._prepareOptions(),this.options.appId?(this._setupEvents(),this._createButton(),t.onepress.connector.connect("facebook",this.options,function(){e.wrap.find(".fake-fb-like").addClass("fb-like"),e.wrap.find(".fake-fb-share").addClass("fb-share-button"),window.FB.XFBML.parse(e.wrap[0])}),!0):(n.setButtonError(this.element,t.onepress.sociallocker.lang.emptyFBAppIdError),!1)},_prepareOptions:function(){var e=t.extend({},this._defaults);this.options=t.extend(e,this.options),this.url=URL.normalize(this.options.url||window.location.href)},_setupEvents:function(){var e=this;t(document).bind("onp-sl-facebook-share",function(t,o){e.options.unlock&&e.url===URL.normalize(o)&&e.options.unlock("button")})},_createButton:function(){var e=this,e=this;this.button=t("<div class='fake-fb-share' data-show-faces='false'></div>"),this.wrap=t("<div class='onp-social-button onp-facebook-button onp-facebook-share-button'></div>").appendTo(this.element).append(this.button),"none"===this.options.count&&this.wrap.addClass("onp-facebook-share-count-none"),this.wrap.addClass("onp-facebook-share-"+this.options.lang),this.button.data("facebook-widget",this),this.options.url&&this.button.attr("data-href",this.options.url),this.options.width&&this.button.attr("data-width",this.options.width),this.options.layout&&(this.button.attr("data-layout",this.options.layout),this.button.attr("data-type",this.options.layout));var o=t("<div class='onp-facebook-share-button-overlay'></div>").appendTo(this.wrap);o.click(function(){return FB.ui({method:"feed",name:e.options.name,link:e.url,picture:e.options.image,caption:e.options.caption,description:e.options.description},function(o){o&&o.post_id&&t(document).trigger("onp-sl-facebook-share",[e.url])}),!1})}};s.element=e,s.options=o;var i=s._create();return i?s:!1}}}(jQuery),function(t){"use strict";t.onepress.sociallocker.twitter||(t.onepress.sociallocker.twitter={}),t.onepress.sociallocker.twitter.button={create:function(e,o,n){var s={_defaults:{url:null,type:null,text:null,via:null,showScreenName:!1,related:null,count:"horizontal",showCount:!0,lang:"en",counturl:null,size:"large",unlock:null},_create:function(){var e=this;return this._prepareOptions(),"follow"!==this.options.type||this.options.url&&-1!==this.options.url.indexOf("twitter")?(this._setupEvents(),this._createButton(),t.onepress.connector.connect("twitter",this.options,function(){var t=e.wrap,o=5,n=function(){if(!(t.find("iframe").length>0))if(window.twttr.widgets&&window.twttr.widgets.load)window.twttr.widgets.load(t[0]),e.element.trigger("tw-render");else{if(0>=o)return;o--,setTimeout(function(){n()},1e3)}};n()}),!0):(n.setButtonError(this.element,t.onepress.sociallocker.lang.emptyTwitterFollowUrlError),!1)},_prepareOptions:function(){var e=t.extend({},this._defaults);for(var o in this._defaults)void 0!==this.element.data(o)&&(e[o]=this.element.data(o));if(this.options=t.extend(e,this.options),!this.options.url&&t("link[rel='canonical']").length>0&&(this.options.url=t("link[rel='canonical']").attr("href")),this.url=URL.normalize(this.options.url||window.location.href),"tweet"==this.options.type&&!this.options.text){var n=t("title");n.length>0&&(this.options.text=n.text()),this.options.text=this.options.text.replace(/\|/g,"-")}},_setupEvents:function(){var e=this;t(document).bind("onp-sl-twitter-tweet",function(o,n){e.url===t.onepress.data.__tweetedUrl&&(t.onepress.data.__tweetWindow&&t.onepress.data.__tweetWindow.close&&t.onepress.data.__tweetWindow.close(),t.onepress.data.__tweetWindow=null,e.options.unlock&&e.options.unlock("button"))}),t(document).bind("onp-sl-twitter-follow",function(o,n){e.url===t.onepress.data.__followedUrl&&(t.onepress.data.__followWindow&&t.onepress.data.__followWindow.close&&t.onepress.data.__followWindow.close(),t.onepress.data.__followWindow=null,e.options.unlock&&e.options.unlock("button"))})},_createButton:function(){var e=this,o="";this.button=t("<a href='https://twitter.com/share'>"+o+"</a>"),this.button.data("twitter-widget",this),this.wrap=t("<div class='onp-social-button onp-twitter-button'></div>").appendTo(this.element),"tweet"===this.options.type&&(this.wrap.addClass("onp-twitter-tweet"),this.button.addClass("twitter-share-button")),"follow"===this.options.type&&(this.wrap.addClass("onp-twitter-follow"),this.button.addClass("twitter-follow-button")),"follow"===this.options.type?this.button.attr("href",this.url):this.button.attr("data-url",this.url),this.button.attr("data-show-count",this.options.showCount),this.options.via&&this.button.attr("data-via",this.options.via),this.options.text&&this.button.attr("data-text",this.options.text),this.options.related&&this.button.attr("data-related",this.options.related),this.options.count&&this.button.attr("data-count",this.options.count),this.options.showCount&&this.button.attr("data-show-count",this.options.showCount),this.options.lang&&this.button.attr("data-lang",this.options.lang),this.options.counturl&&this.button.attr("data-counturl",this.options.counturl),this.options.hashtags&&this.button.attr("data-hashtags",this.options.hashtags),this.options.alignment&&this.button.attr("data-alignment",this.options.alignment),this.options.size&&this.button.attr("data-size",this.options.size),this.options.dnt&&this.button.attr("data-dnt",this.options.dnt),this.options.showScreenName&&this.button.attr("data-show-screen-name",this.options.showScreenName);var n=t("<div class='onp-sl-feature-overlay'></div>").appendTo(this.wrap);"tweet"===this.options.type?n.click(function(){var o=[];if(e.options.text){var n=encodeURI(e.options.text);n=n.replace(/#/g,"%23"),o.push(["text",n])}e.options.hashtags&&o.push(["hashtags",e.options.hashtags]),e.options.via&&o.push(["via",e.options.via]),e.options.related&&o.push(["via",e.options.related]),o.push(["url",e.url]),t.onepress.data.__tweetedUrl=e.url;var s=URL().scheme("http").host("twitter.com").path("/intent/tweet").query(o),i=550,r=420,a=screen.width?screen.width/2-350+t.onepress.tools.findLeftWindowBoundry():0,l=screen.height?screen.height/2-225+t.onepress.tools.findTopWindowBoundry():0;return t.onepress.data.__tweetWindow=window.open(s,"TwitterTweetWindow","width="+i+",height="+r+",left="+a+",top="+l),!1}):n.click(function(){var o=[];t.onepress.data.__followedUrl=e.url;var n=e.url.split("/");o.push(["screen_name",n[n.length-1]]);var s=URL().scheme("http").host("twitter.com").path("/intent/follow").query(o),i=550,r=530,a=screen.width?screen.width/2-350+t.onepress.tools.findLeftWindowBoundry():0,l=screen.height?screen.height/2-225+t.onepress.tools.findTopWindowBoundry():0;return t.onepress.data.__followWindow=window.open(s,"TwitterFollowWindow","width="+i+",height="+r+",left="+a+",top="+l),!1}),this.wrap.attr("data-url-to-compare",this.url),this.wrap.append(this.button)}};s.element=e,s.options=o;var i=s._create();return i?s:!1}},t.onepress.sociallocker.twitter.tweet=t.extend({},t.onepress.sociallocker.twitter.button),t.onepress.sociallocker.twitter.tweet.create=function(e,o,n){return o.type="tweet",t.onepress.sociallocker.twitter.button.create(e,o,n)},t.onepress.sociallocker.twitter.follow=t.extend({},t.onepress.sociallocker.twitter.button),t.onepress.sociallocker.twitter.follow.create=function(e,o,n){return o.type="follow",t.onepress.sociallocker.twitter.button.create(e,o,n)}}(jQuery),function(t){"use strict";t.onepress.sociallocker.google||(t.onepress.sociallocker.google={}),t.onepress.sociallocker.google.button={create:function(e,o){var n={_defaults:{url:null,type:null,lang:"en-US",size:null,annotation:null,width:null,align:"left",expandTo:"",recommendations:!0,unlock:null},_initShareCounts:0,_create:function(){var e=this;return this._prepareOptions(),this._setupEvents(),this._createButton(),t.onepress.connector.connect("google",this.options,function(){setTimeout(function(){var t=e.wrap,o=t.find(".fake-g-plusone");if(o.length>0)return e._addCallbackToControl(t),o.addClass("g-plusone"),void window.gapi.plusone.go(t[0]);var n=t.find(".fake-g-share");return n.length>0?(n.attr("data-onstartinteraction","onepressGoogleShareStartInteraction"),n.attr("data-onendinteraction","onepressGoogleShareEndInteraction"),n.addClass("g-plus").attr("data-action","share"),void window.gapi.plus.go(t[0])):void 0},100)}),!0},_prepareOptions:function(){var e=t.extend({},this._defaults);this.options=t.extend(e,this.options),this.url=URL.normalize(this.options.url||window.location.href)},_setupEvents:function(){var e=this;"plus"===this.options.type&&t(document).bind("onp-sl-google-plus",function(o,n){t(".gc-bubbleDefault").hide(),e.options.unlock&&e.url==URL.normalize(n)&&e.options.unlock("button")}),"share"===this.options.type&&t(document).bind("onp-sl-google-share",function(o,n){var s=n||t.onepress.data.__googleShareUrl;e.url===URL.normalize(s)&&e.options.unlock("button")})},_createButton:function(){var e=this;if(this.button=t("plus"==this.options.type?"<div class='fake-g-plusone'></div>":"<div class='fake-g-share'></div>"),this.wrap=t("<div class='onp-social-button onp-google-button'></div>").appendTo(this.element).append(this.button),this.button.data("google-widget",this),this.options.url&&this.button.attr("data-href",this.options.url),this.options.size&&this.button.attr("data-size",this.options.size),this.options.annotation&&this.button.attr("data-annotation",this.options.annotation),this.options.align&&this.button.attr("data-align",this.options.align),this.options.expandTo&&this.button.attr("data-expandTo",this.options.expandTo),this.options.recommendations&&this.button.attr("data-recommendations",this.options.recommendations),t.onepress.tools.isTabletOrMobile()){var o=t("<div class='onp-sl-feature-overlay'></div>").appendTo(this.wrap);o.click(function(){var o=[];o.push(["url",e.url]);var n=URL().scheme("https").host("plus.google.com").path("/share").query(o),s=550,i=420,r=screen.width?screen.width/2-350+t.onepress.tools.findLeftWindowBoundry():0,a=screen.height?screen.height/2-225+t.onepress.tools.findTopWindowBoundry():0,l=window.open(n,"GoogleShareWindow","width="+s+",height="+i+",left="+r+",top="+a);return setTimeout(function(){var o=setInterval(function(){l&&l.closed===!1||(clearInterval(o),t(document).trigger("onp-sl-google-share",[e.url]))},200)},200),!1})}},_addCallbackToControl:function(t){var e=t.is(".g-plusone")?t:t.find(".fake-g-plusone"),o=e.attr("data-callback");if(o&&"onepressPlusOneCallback"!==o){var n="__plusone_"+o;window[n]=function(t){window[o](t),window.onepressPlusOneCallback(t)},e.attr("data-callback",n)}else e.attr("data-callback","onepressPlusOneCallback")}};n.element=e,n.options=o;var s=n._create();return s?n:!1}},t.onepress.sociallocker.google.plus=t.extend({},t.onepress.sociallocker.google.button),t.onepress.sociallocker.google.plus.create=function(e,o){return o.type="plus",t.onepress.sociallocker.google.button.create(e,o)},t.onepress.sociallocker.google.share=t.extend({},t.onepress.sociallocker.google.button),t.onepress.sociallocker.google.share.create=function(e,o){return o.type="share",t.onepress.sociallocker.google.button.create(e,o)}}(jQuery),function(t){"use strict";t.onepress.sociallocker.linkedin||(t.onepress.sociallocker.linkedin={}),t.onepress.sociallocker.linkedin.share={getVerificationData:function(t){return{container:".IN-widget",timeout:5e3}},create:function(e,o){var n={_defaults:{url:null,counter:"right",unlock:null},_create:function(){var e=this;return this._prepareOptions(),this._setupEvents(),this._createButton(),t.onepress.connector.connect("linkedin",this.options,function(){IN.init(),IN.parse&&IN.parse(e.element[0])}),!0},_prepareOptions:function(){var e=t.extend({},this._defaults);for(var o in this._defaults)void 0!==this.element.data(o)&&(e[o]=this.element.data(o));this.options=t.extend(e,this.options),this.url=URL.normalize(this.options.url||window.location.href)},_setupEvents:function(){var e=this;this.element.bind("onp-sl-button-created",function(){e.wrap.find(".IN-widget").click(function(){setTimeout(function(){if(t.onepress.sdk.linkedin._activePopup){var o=t.onepress.sdk.linkedin._activePopup;t.onepress.sdk.linkedin._activePopup=!1;var n=setInterval(function(){o&&o.closed===!1||(clearInterval(n),t(document).trigger("onp-sl-linkedin-share",[e.url]))},200)}},200)})}),t(document).bind("onp-sl-linkedin-share",function(t,o){console.log("onp-sl-linkedin-share"),e.url===URL.normalize(o)&&e.options.unlock&&e.options.unlock&&e.options.unlock("button")})},_createButton:function(){this.button=t('<script type="IN/Share" data-onsuccess="onepressLinkedInShareCallback" data-success="onepressLinkedInShareCallback" data-onSuccess="onepressLinkedInShareCallback"></script>'),this.options.counter&&this.button.attr("data-counter",this.options.counter),this.options.url&&this.button.attr("data-url",this.url),this.wrap=t("<div class='onp-social-button onp-linkedin-button'></div>").appendTo(this.element).append(this.button)}};n.element=e,n.options=o;var s=n._create();return s?n:!1}}}(jQuery),function(t){t.onepress.sociallocker||(t.onepress.sociallocker={}),t.onepress.sociallocker.registerButton=t.onepress.sociallocker.registerButton||function(e,o){if(o){var n=e.split("-"),s=2===n.length?n[0]:null,i=2===n.length?n[1]:n[0];s?t.onepress.sociallocker.lang[s+"_"+i]=o:t.onepress.sociallocker.lang[i]=o}}}(jQuery),function(t){"use strict";t.onepress||(t.onepress={}),t.onepress.tools||(t.onepress.tools={}),t.onepress.tools.cookie=t.onepress.tools.cookie||function(e,o,n){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(o))||null===o||void 0===o)){if(n=t.extend({},n),(null===o||void 0===o)&&(n.expires=-1),"number"==typeof n.expires){var s=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+s)}return o=String(o),document.cookie=[encodeURIComponent(e),"=",n.raw?o:encodeURIComponent(o),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=o||{};for(var r,a=n.raw?function(t){return t}:decodeURIComponent,l=document.cookie.split("; "),c=0;r=l[c]&&l[c].split("=");c++)if(a(r[0])===e)return a(r[1]||"");return null},t.onepress.tools.hash=t.onepress.tools.hash||function(t){var e=0;if(!t||0===t.length)return e;for(var o=0;o<t.length;o++){var n=t.charCodeAt(o);e=(e<<5)-e+n,e&=e}return e=e.toString(16),e=e.replace("-","0")},t.onepress.tools.has3d=t.onepress.tools.has3d||function(){var t,e=document.createElement("p"),o={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform"};document.body.insertBefore(e,null);for(var n in o)void 0!==e.style[n]&&(e.style[n]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(o[n]));return document.body.removeChild(e),void 0!==t&&t.length>0&&"none"!==t},t.onepress.tools.canBlur=t.onepress.tools.canBlur||function(){var t=document.createElement("div");t.style.cssText=_browserPrefixes.join("filter:blur(2px); ");var e=!!t.style.length&&(void 0===document.documentMode||document.documentMode>9);if(e)return!0;try{e=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(o){}return e},t.onepress.isTouch=t.onepress.isTouch||function(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)},t.onepress.widget=function(e,o){var n={createWidget:function(n,s){var i=t.extend(!0,{},o);i.element=t(n),i.options=t.extend(!0,i.options,s),i._init&&i._init(),i._create&&i._create(),t.data(n,"plugin_"+e,i)},callMethod:function(t,e){return t[e]&&t[e]()}};t.fn[e]=function(){var o=arguments,s=arguments.length,i=this;return this.each(function(){var r=t.data(this,"plugin_"+e);!r&&1>=s?n.createWidget(this,s?o[0]:!1):1==s&&(i=n.callMethod(r,o[0]))}),i}},t.onepress.detectBrowser=t.onepress.detectBrowser||function(){function e(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,o=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=o.exec(e)&&(t=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var e=navigator.userAgent,o=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=o.exec(e)&&(t=parseFloat(RegExp.$1))}return t}var o=jQuery.uaMatch||function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},n=o(navigator.userAgent);t.onepress.browser={},n.browser&&(t.onepress.browser[n.browser]=!0,t.onepress.browser.version=n.version);var s=e();s>0&&(t.onepress.browser.msie=!0,t.onepress.browser.version=s),t.onepress.browser.chrome?t.onepress.browser.webkit=!0:t.onepress.browser.webkit&&(t.onepress.browser.safari=!0)},t.onepress.tools.getCurrentHost=t.onepress.tools.getCurrentHost||function(){return document.domain},t.onepress.tools.isTabletOrMobile=function(){return/webOS|iPhone|iPad|Android|iPod|BlackBerry/i.test(navigator.userAgent)?!0:!1},t.onepress.tools.findLeftWindowBoundry=function(){return window.screenLeft?window.screenLeft:window.screenX?window.screenX:0},t.onepress.tools.findTopWindowBoundry=function(){return window.screenTop?window.screenTop:window.screenY?window.screenY:0},t.onepress.detectBrowser()}(jQuery);var URL=function(){var t=this;return t&&t.hasOwnProperty&&t instanceof URL||(t=new URL),t._init.apply(t,arguments)};!function(){var t,e,o,n="absolute",s="relative",i=":",r="//",a="@",l=".",c="/",u="..",p="../",d="?",h="=",f="&",g="#",k="",v="type",b="scheme",m="userInfo",w="host",_="port",y="path",x="query",C="fragment",S=/^(?:(https?:\/\/|\/\/)|(\/|\?|#)|[^;:@=\.\s])/i,T=/^(?:(https?):\/\/|\/\/)(?:([^:@\s]+:?[^:@\s]+?)@)?((?:[^;:@=\/\?\.\s]+\.)+[A-Za-z0-9\-]{2,})(?::(\d+))?(?=\/|\?|#|$)([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,B=/^([^\?#]+)?(?:\?([^#]+))?(?:#(.+))?/i,L="object",I="string",A=/^\s+|\s+$/g;t=String.prototype.trim?function(t){return t&&t.trim?t.trim():t}:function(t){try{return t.replace(A,k)}catch(e){return t}},e=function(t){return t&&typeof t===L},o=function(t){return typeof t===I},URL.ABSOLUTE=n,URL.RELATIVE=s,URL.normalize=function(t){return new URL(t).toString()},URL.resolve=function(t,e){return new URL(t).resolve(e).toString()},URL.prototype={_init:function(t){return this.constructor=URL,t=o(t)?t:t instanceof URL?t.toString():null,this._original=t,this._url={},this._isValid=this._parse(t),this},toString:function(){var t=this._url,e=[],o=t[v],s=t[b],a=t[y],l=t[x],u=t[C];return o===n&&(e.push(s?s+i+r:r,this.authority()),a&&0!==a.indexOf(c)&&(a=c+a)),e.push(a,l?d+this.queryString():k,u?g+u:k),e.join(k)},original:function(){return this._original},isValid:function(){return this._isValid},isAbsolute:function(){return this._url[v]===n},isRelative:function(){return this._url[v]===s},isHostRelative:function(){var t=this._url[y];return this.isRelative()&&t&&0===t.indexOf(c)},type:function(){return this._url[v]},scheme:function(t){return arguments.length?this._set(b,t):this._url[b]},userInfo:function(t){return arguments.length?this._set(m,t):this._url[m]},host:function(t){return arguments.length?this._set(w,t):this._url[w]},domain:function(){var t=this._url[w];return t?t.split(l).slice(-2).join(l):void 0},port:function(t){return arguments.length?this._set(_,t):this._url[_]},authority:function(){var t=this._url,e=t[m],o=t[w],n=t[_];return[e?e+a:k,o,n?i+n:k].join(k)},path:function(t){return arguments.length?this._set(y,t):this._url[y]},query:function(t){return arguments.length?this._set(x,t):this._url[x]},queryString:function(t){if(arguments.length)return this._set(x,this._parseQuery(t));t=k;var e,o,n=this._url[x];if(n)for(e=0,o=n.length;o>e;e++)t+=n[e].join(h),o-1>e&&(t+=f);return t},fragment:function(t){return arguments.length?this._set(C,t):this._url[C]},resolve:function(t){t=t instanceof URL?t:new URL(t);var e,o;return this.isValid()&&t.isValid()?t.isAbsolute()?this.isAbsolute()?t.scheme()?t:new URL(t).scheme(this.scheme()):t:(e=new URL(this.isAbsolute()?this:null),
t.path()?(o=t.isHostRelative()||!this.path()?t.path():this.path().substring(0,this.path().lastIndexOf(c)+1)+t.path(),e.path(this._normalizePath(o)).query(t.query()).fragment(t.fragment())):t.query()?e.query(t.query()).fragment(t.fragment()):t.fragment()&&e.fragment(t.fragment()),e):this},reduce:function(t){t=t instanceof URL?t:new URL(t);var e=this.resolve(t);return this.isAbsolute()&&e.isAbsolute()&&e.scheme()===this.scheme()&&e.authority()===this.authority()&&e.scheme(null).userInfo(null).host(null).port(null),e},_parse:function(e,i){if(e=t(e),!(o(e)&&e.length>0))return!1;var r,a;switch(i||(i=e.match(S),i=i?i[1]?n:i[2]?s:null:null),i){case n:r=e.match(T),r&&(a={},a[v]=n,a[b]=r[1]?r[1].toLowerCase():void 0,a[m]=r[2],a[w]=r[3].toLowerCase(),a[_]=r[4]?parseInt(r[4],10):void 0,a[y]=r[5]||c,a[x]=this._parseQuery(r[6]),a[C]=r[7]);break;case s:r=e.match(B),r&&(a={},a[v]=s,a[y]=r[1],a[x]=this._parseQuery(r[2]),a[C]=r[3]);break;default:return this._parse(e,n)||this._parse(e,s)}return a?(this._url=a,!0):!1},_parseQuery:function(e){if(o(e)){e=t(e);var n,s,i,r=[],a=e.split(f);for(s=0,i=a.length;i>s;s++)a[s]&&(n=a[s].split(h),r.push(n[1]?n:[n[0]]));return r}},_set:function(t,e){return this._url[t]=e,!e||t!==b&&t!==m&&t!==w&&t!==_||(this._url[v]=n),e||t!==w||(this._url[v]=s),this._isValid=this._parse(this.toString()),this},_normalizePath:function(t){var e,o,n,s,i,r;if(t.indexOf(p)>-1){for(e=t.split(c),n=[],i=0,r=e.length;r>i;i++)o=e[i],o===u?n.pop():o&&n.push(o);s=n.join(c),t[0]===c&&(s=c+s),t[t.length-1]===c&&s.length>1&&(s+=c)}else s=t;return s}}}(),function(t){"use strict";t.onepress||(t.onepress={}),t.onepress.connector=t.onepress.connector||{_ready:{},_connected:{},getSDK:function(e){return t.onepress.sdk[e]?t.onepress.sdk[e]:null},isConnected:function(e){if(t("#"+e.scriptId).length>0)return!0;var o=!1;return t("script").each(function(){var n=t(this).attr("src");return n?(o=-1!==n.indexOf(e.url),o?(t(this).attr("id",e.scriptId),!1):void 0):!0}),o},getLoadingScript:function(e){var o=t("#"+e.scriptId),n=t("script[src='*"+e.url+"']");return o.length>0?o:n},isLoaded:function(t){return this.isConnected(t)&&t.isLoaded&&t.isLoaded()},connect:function(e,o,n){var s=this,i=this.getSDK(e);if(!i)return void(console&&console.log("Invalide SDK name: "+e));if(i.options=o,n&&(this._ready[e]?n(i):t(document).bind(e+"-init",function(){n(i)})),!this._connected[e]){i.createEvents||(i.createEvents=function(){var e=i.isLoaded(),o=function(){t(document).trigger(i.name+"-init")};return e?void o():void t(document).bind(i.name+"-script-loaded",function(){o()})}),i.prepare&&i.prepare();var r=i.isLoaded(),a=this.isConnected(i);if(t(document).bind(e+"-init",function(){s._ready[e]=!0}),i.createEvents(),!a){var l=function(){var t=document.createElement("script");t.type="text/javascript",t.id=i.scriptId,t.src=i.url;var e=i.getScriptBody?i.getScriptBody():null;e&&(t.innerHtml=e);var o=document.getElementsByTagName("body")[0];o.appendChild(t)};l()}if(!r){var c=this.getLoadingScript(i)[0];c&&(c.onreadystatechange=c.onload=function(){var e=c.readyState;(!e||/loaded|complete/.test(e))&&(t(document).trigger(i.name+"-script-loaded"),t(document).unbind(i.name+"-script-loaded"))})}this._connected[e]=!0}}}}(jQuery),function(t){"use strict";t.onepress||(t.onepress={}),t.onepress.providers||(t.onepress.providers={}),t.onepress.providers.clientStoreStateProvider=function(e,o,n,s){this.networkName=e,this.buttonName=o,this.name=e+"-"+o,this.demo=s.demo,this.useCookies=s.locker.useCookies,this.expires=s.locker.expires,this.scope=s.locker.scope&&"scope_"+s.locker.scope,this.url=n,this.identity="page_"+t.onepress.tools.hash(this.url)+"_hash_"+e+"-"+o,this.isUnlocked=function(){return this.demo?!1:this._getValue(this.identity)||this._getValue(this.scope)?!0:!1},this.isLocked=function(){return!this.isUnlocked()},this.getState=function(t){return this.demo?t(!1):void t(this.isUnlocked())},this.setState=function(t){if(this.demo)return!0;try{return"unlocked"===t?this._setValue(this.identity)&&this._setValue(this.scope):this._removeValue(this.identity)&&this._setValue(this.scope)}catch(e){console&&console.log(e)}},this._setValue=function(e){if(!e)return!1;var o=!0,n=1e4;if(this.expires){var s=new Date,i=s.getTime(),r=i+1e3*this.expires;n=Math.ceil(this.expires/86400),o=JSON.stringify({expires:r})}var a=!0;if(localStorage&&!this.useCookies){a=!1;try{localStorage.setItem(e,o)}catch(l){console&&console.log(l),a=!0}}return a&&t.onepress.tools.cookie(e,o,{expires:n,path:"/"}),!0},this._getValue=function(e){if(!e)return!1;var o=localStorage&&!this.useCookies&&localStorage.getItem(e);if(o||(o=t.onepress.tools.cookie(e)),o)try{var n=JSON.parse(o);if(n&&n.expires){var s=new Date;return n.expires>s}return!0}catch(i){return!0}},this._removeValue=function(e){return e?(localStorage&&localStorage.removeItem(e),void t.onepress.tools.cookie(e,null)):!1}}}(jQuery),function(t,e,o){"use strict";var n={filterId:0},s=" -webkit- -moz- -o- -ms- ".split(" "),i=function(){var t=e.createElement("div");return t.style.cssText=s.join("filter:blur(2px); "),!!t.style.length&&(void 0===e.documentMode||e.documentMode>9)},r=function(){var t=!1;try{t=void 0!==typeof SVGFEColorMatrixElement&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(e){}return t},a=function(s,a){var l,c,u,p={intensity:5,forceSVGUrl:!1,animationOptions:{duration:1e3,easing:"linear"}},d=o.extend(p,a),h={},f=function(t){if(h[t]||""===h[t])return h[t]+t;var o=e.createElement("div"),n=["","Moz","Webkit","O","ms","Khtml"];for(var s in n)if("undefined"!=typeof o.style[n[s]+t])return h[t]=n[s],n[s]+t;return t.toLowerCase()},g={cssfilters:i(),svgfilters:r()},k=!1,v=f("Filter"),b=function(t){return e.createElementNS("http://www.w3.org/2000/svg",t)},m=function(){var t=b("svg"),e=b("filter");l=b("feGaussianBlur"),t.setAttribute("style","position:absolute"),t.setAttribute("width","0"),t.setAttribute("height","0"),e.setAttribute("id","blur-effect-id-"+n.filterId),e.appendChild(l),t.appendChild(e),o("body").append(t)};return this.$elm=s instanceof o?s:o(s),this.init=function(){return g.svgfilters&&m(),c=n.filterId,n.filterId++,this},this.blur=function(){var e,o=t.location,n=d.forceSVGUrl?o.protocol+"//"+o.host+o.pathname:"";return g.cssfilters?e="blur("+d.intensity+"px)":g.svgfilters?(l.setAttribute("stdDeviation",d.intensity),e="url("+n+"#blur-effect-id-"+c+")"):e="progid:DXImageTransform.Microsoft.Blur(pixelradius="+d.intensity+")",this.$elm[0].style[v]=e,k=!0,this},this.animate=function(t,e){if("number"!=typeof t)throw typeof t+" is not a valid number to animate the blur";if(0>t)throw"I can animate only positive numbers";var n=new o.Deferred;return u&&u.stop(!0,!0),u=new o.Animation(d,{intensity:t},o.extend(d.animationOptions,e)).progress(o.proxy(this.blur,this)).done(n.resolve),n.promise()},this.unblur=function(){return this.$elm.css(v,"none"),k=!1,this},this.toggleblur=function(){return k?this.unblur():this.blur(),this},this.destroy=function(){g.svgfilters&&o("filter#blur-effect-id-"+c).parent().remove(),this.unblur();for(var t in this)delete this[t];return this},this.init()};o.fn.Vague=function(t){return new a(this,t)},o.onepress||(o.onepress={}),o.onepress.tools||(o.onepress.tools={}),o.onepress.tools.supportBlurring=function(t,e){return"blurring"===e&&(o.onepress.browser.msie&&o.onepress.browser.version>9&&o.onepress.browser.msie<12||!i()&&!r())?t:e}}(window,document,jQuery),function(t){"use strict";t.fn.sociallocker||(t.onepress.widget("sociallocker",{options:{},_isLocked:!1,_buttonsCount:0,_buttonErrorCounter:0,_defaults:{_iPhoneBug:!1,url:null,text:{header:t.onepress.sociallocker.lang.defaultHeader,message:t.onepress.sociallocker.lang.defaultMessage},theme:"starter",overlap:{mode:"full",position:"middle",intensity:5,altMode:"transparence"},cssClass:null,demo:!1,googleAnalytics:!1,buttons:{layout:"horizontal",order:["twitter-tweet","facebook-like",,"google-plus"],counter:!0},locker:{off:!1,stepByStep:!1,close:!1,timer:0,mobile:!0,expires:!1,useCookies:!1,scope:!1,loadingTimeout:1e4,tumbler:!0,tumblerInterval:500,naMode:"show-error"},content:null,effects:{flip:!1,highlight:!0},triggers:{},facebook:{url:null,version:"v1.0",appId:null,lang:"en_US",colorScheme:"light",font:"tahoma",ref:null,like:{title:t.onepress.sociallocker.lang.facebook_like,theConfirmIssue:!1},share:{title:t.onepress.sociallocker.lang.facebook_share}},twitter:{url:null,via:null,text:null,related:null,lang:"en",counturl:null,tweet:{title:t.onepress.sociallocker.lang.twitter_tweet},follow:{title:t.onepress.sociallocker.lang.twitter_follow}},google:{url:null,lang:"en-US",annotation:null,recommendations:!0,plus:{title:t.onepress.sociallocker.lang.google_plus},share:{title:t.onepress.sociallocker.lang.google_share},youtube:{clientId:null,channelId:null,layout:"default",counter:1,title:t.onepress.sociallocker.lang.google_youtube}},linkedin:{url:null,counter:"right",share:{title:t.onepress.sociallocker.lang.linkedin_share}}},getState:function(){return this._isLocked?"locked":"unlocked"},_create:function(){var e=this;if(this.events={lock:function(t,o){e.element.trigger("lock.sociallocker.onp",[t,o])},unlock:function(o,n,s){if(e.element.trigger("unlock.sociallocker.onp",[o,n]),e.options.googleAnalytics&&(window._gaq||window.ga)&&"button"===o){var i=null,r=null;"facebook-like"===n?(r="Facebook Like",i="Got a Like on Facebook"):"facebook-share"===n?(r="Facebook Share",i="Shared on Facebook"):"twitter-tweet"===n?(r="Twitter Tweet",i="Shared on Twitter"):"twitter-follow"===n?(r="Twitter Follow",i="Got a Follower on Twitter"):"google-plus"===n?(r="Google Plus",i="Got +1 on Google"):"google-share"===n?(r="Google Share",i="Shared on Google"):"google-youtube"===n&&(r="Google youtube",i="Subscribed on Yotube"),t(document).trigger("onp-sl-filter-google-analytics",[n,r,i]),window.ga?window.ga("send","event","Social Locker (Leakages)","Unlocked by Social Button",r):window._gaq.push(["_trackEvent","Social Locker (Leakages)","Unlocked by Social Button",r]),window.ga?window.ga("send","event","Social Locker (Activity)",i,s):window._gaq.push(["_trackEvent","Social Locker (Activity)",i,s])}},unlockByClose:function(){e.element.trigger("unlockByClose.sociallocker.onp",[]),e.options.googleAnalytics&&(window._gaq||window.ga)&&(window.ga?window.ga("send","event","Social Locker (Leakages)","Unlocked by Close Icon",null):window._gaq.push(["_trackEvent","Social Locker (Leakages)","Unlocked by Close Icon",null]))},unlockByTimer:function(){e.element.trigger("unlockByTimer.sociallocker.onp",[]),e.options.googleAnalytics&&(window._gaq||window.ga)&&(window.ga?window.ga("send","event","Social Locker (Leakages)","Unlocked by Timer",null):window._gaq.push(["_trackEvent","Social Locker (Leakages)","Unlocked by Timer",null]))},unlockBySteps:function(){e.element.trigger("unlockBySteps.sociallocker.onp",[])},notAvailable:function(){e.element.trigger("notAvailable.sociallocker.onp",[])}},this._processOptions(),t.onepress.browser.msie&&7===parseInt(t.onepress.browser.version,10))return void this._unlock("ie7");if(!this.options.locker.mobile&&this._isMobile())return void this._unlock("mobile");if(/iPhone/i.test(navigator.userAgent)&&this.options._iPhoneBug){var o=t.inArray("twitter-tweet",this.options.buttons.order);o>=0&&this.options.buttons.order.splice(o,1)}if(this._isTabletOrMobile()){var n=t.inArray("google-share",this.options.buttons.order);n>=0&&this.options.buttons.order.splice(n,1)}return 0===this.options.buttons.order.length?void this._unlock("nobuttons"):(this._controller=this._createProviderController(),this._controller.getState(function(t){t.state?e._unlock("provider"):e._lock()}),void(e.options.locker.scope&&t(document).bind("unlockByScope.sl.onp",function(t,o,n){o!==e.element&&e.options.locker.scope===n&&e._unlock("scope")})))},_createProviderController:function(){var e=this;this._providers={};var o=0;for(var n in this.options.buttons.order){var s=this.options.buttons.order[n];if("string"==typeof s&&"#"!==s){var i=s.split("-"),r=2===i.length?i[0]:null,a=2===i.length?i[1]:i[0];if(!this._isValidButton(r,a))return void this._setError("The button '"+s+"' not found.");var l={};r?(this.options[r]&&(l=t.extend({},this.options[r])),this.options[r][a]&&(l=t.extend(l,this.options[r][a]))):this.options[a]&&(l=t.extend(l,this.options[a]));var c=r?t.onepress.sociallocker[r]&&t.onepress.sociallocker[r][a]:t.onepress.sociallocker[a],u=c&&c.getStateId?c.getStateId(l,this.options):URL.normalize(l.url||this.options.url||window.location.href);if(this._providers[s])return;this._providers[s]=new t.onepress.providers.clientStoreStateProvider(r,a,u,e.options),o++}}return this._buttonsCount=o,{updateState:function(){this.getState(function(){})},getState:function(n){var s=o,i=e.options.locker.stepByStep,r=0,a=0;for(var l in e._providers){var c=e._providers[l];c.getState(function(o){if(s--,e.options.locker.stepByStep?(o||(i=!1),o&&r++,a++):o&&(i=!0),0===s){var l={state:i,completedSteps:r,totalSteps:a};e.options.triggers.state&&e.options.triggers.state(l,e.locker,e),t(document).trigger("onp-sl-trigger-state",[l,e.locker,e]),n(l,c)}})}}}},_processOptions:function(){var e=this.options.theme||this._defaults.theme,o=t.extend(!0,{},this._defaults);t(document).trigger("defaultOptions.filter.sociallocker.onp",[o]),t.onepress.sociallocker.presets[e]&&(o=t.extend(!0,{},o,t.onepress.sociallocker.presets[e]),t.onepress.sociallocker.presets[e].buttons&&t.onepress.sociallocker.presets[e].buttons.order&&(o.buttons.order=t.onepress.sociallocker.presets[e].buttons.order)),o=t.extend(!0,o,this.options),this.options.buttons&&this.options.buttons.order&&(o.buttons.order=this.options.buttons.order),o.effects.flip=o.effects.flip||"onp-sociallocker-secrets"==o.style,o.buttons.layout||(o.buttons.layout="horizontal"),"vertical"===o.buttons.layout&&(o.facebook.like.layout="box_count",o.facebook.share.layout="box_count",o.twitter.count="vertical",o.twitter.size="medium",o.google.plus.size="tall",o.google.share.annotation="vertical-bubble",o.linkedin.share.counter="top",o.buttons.counter=!0),"horizontal"===o.buttons.layout&&(o.facebook.layout="button_count",o.twitter.count="horizontal",o.twitter.size="medium",o.google.size="medium",o.google.annotation="bubble",o.linkedin.share.counter="right",o.buttons.counter||(o.twitter.count="none",o.twitter.showCount=!1,o.google.annotation="none",o.google.youtube.counter=0,o.facebook.count="none",o.linkedin.share.counter="none")),"object"!=typeof o.text&&(o.text={message:o.text}),o.text.header&&(o.text.header="function"==typeof o.text.header&&o.text.header(this)||"string"==typeof o.text.header&&t("<div>"+o.text.header+"</div>")||"object"==typeof o.text.header&&o.text.header.clone()),o.text.message&&(o.text.message="function"==typeof o.text.message&&o.text.message(this)||"string"==typeof o.text.message&&t("<div>"+o.text.message+"</div>")||"object"==typeof o.text.message&&o.text.message.clone()),o.locker.timer=parseInt(o.locker.timer),0==o.locker.timer&&(o.locker.timer=null),t(document).trigger("options.filter.sociallocker.onp",[o]),this.options=o,this.style="onp-sociallocker-"+e,this.options.overlap.mode=t.onepress.tools.supportBlurring(this.options.overlap.altMode,this.options.overlap.mode),this.overlap="full"===this.options.overlap.mode?!1:this.options.overlap.mode},_isMobile:function(){return/webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?!0:/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)?!0:!1},_isTabletOrMobile:function(){return/webOS|iPhone|iPad|Android|iPod|BlackBerry/i.test(navigator.userAgent)?!0:!1},_isValidButton:function(e,o){return e?t.onepress.sociallocker[e]&&t.onepress.sociallocker[e][o]?!0:!1:t.onepress.sociallocker[o]?!0:!1},_setError:function(t){this._error=!0,this._errorText=t,this.locker&&this.locker.hide(),this.element.html("<strong>[Error]: "+t+"</strong>"),this.element.show().addClass("onp-sociallocker-error")},_createMarkup:function(){var e=this,o=this.element.parent().is("a")?this.element.parent():this.element;o.addClass("onp-sociallocker-content");var n=t.onepress.browser.mozilla&&"mozilla"||t.onepress.browser.opera&&"opera"||t.onepress.browser.webkit&&"webkit"||"msie";this.locker=t("<div class='onp-sociallocker onp-sociallocker-"+n+"'></div>"),this.outerWrap=t("<div class='onp-sociallocker-outer-wrap'></div>").appendTo(this.locker),this.innerWrap=t("<div class='onp-sociallocker-inner-wrap'></div>").appendTo(this.outerWrap),"fixed"===this.options.buttons.size&&this.locker.addClass("onp-sociallocker-buttons-fixed"),this.locker.addClass(this.style),this.locker.addClass("onp-sociallocker-"+this.options.buttons.layout),this.options.buttons.counter?this.locker.addClass("onp-sociallocker-has-counters"):this.locker.addClass("onp-sociallocker-no-counters"),t.onepress.isTouch()?this.locker.addClass("onp-sociallocker-touch"):this.locker.addClass("onp-sociallocker-no-touch"),this.options.cssClass&&this.locker.addClass(this.options.cssClass);var s=t("<div class='onp-sociallocker-text'></div>");if(this.options.text.header&&s.append(this.options.text.header.addClass("onp-sociallocker-strong").clone()),this.options.text.message&&s.append(this.options.text.message.addClass("onp-sociallocker-message").clone()),this.innerWrap.append(s.addClass()),s.prepend(t("<div class='onp-sociallocker-before-text'></div>")),s.append(t("<div class='onp-sociallocker-after-text'></div>")),this._createButtonMarkup(),this.options.bottomText&&this.innerWrap.append(this.options.bottomText.addClass("onp-sociallocker-bottom-text")),this.options.locker.close&&this._createClosingCross(),this.options.locker.timer&&this._createTimer(),this._controller.updateState(),this.overlap){o.addClass("onp-sociallocker-overlap-mode");var i=this.element.css("display"),r=o;("blurring"===this.overlap||o.is("img")||o.is("iframe")||o.is("object")||"block"!==i&&"inline-block"!==i)&&(r=t('<div class="onp-sociallocker-content-wrap"></div>'),r.insertAfter(o),r.append(o)),o.show(),this.element.show(),"blurring"===this.overlap&&(this.blurArea=t("<div class='onp-sociallocker-blur-area'></div>"),this.blurArea.insertAfter(o),this.blurArea.append(o),o=this.blurArea);var a=r.css("position");"static"===a&&r.css("position","relative");var l=o.is("iframe")&&o||o.find("iframe");1===l.length&&"absolute"===l.css("position")&&(r.css({position:"absolute",width:"100%",height:"100%",top:l.css("top"),left:l.css("left"),right:l.css("right"),bottom:l.css("bottom"),margin:l.css("margin")}),l.css({top:0,left:0,right:0,bottom:0,margin:"auto"})),this.overlapLockerBox=t("<div class='onp-sociallocker-overlap-locker-box'></div>").hide(),this.overlapLockerBox.addClass("onp-sociallocker-position-"+this.options.overlap.position),this.overlapLockerBox.append(this.locker),this.overlapBox=t("<div class='onp-sociallocker-overlap-box'></div>"),this.overlapBox.append(this.overlapLockerBox),this.overlapBox.addClass("onp-sociallocker-"+this.overlap+"-mode");var c=t("<div class='onp-sociallocker-overlap-background'></div>");if(this.overlapBox.append(c),r.append(this.overlapBox),"blurring"===this.overlap){var u=this.options.overlap&&this.options.overlap.intensity||5;this.blurArea=this.blurArea.Vague({intensity:u,forceSVGUrl:!1}),this.blurArea.blur()}t(window).resize(function(){e._updateLockerPosition()}),"scroll"===this.options.overlap.position&&t(window).scroll(function(){e._updateLockerPositionOnScrolling()})}else this.locker.hide(),this.locker.insertAfter(o);this._markupIsCreated=!0,t.inArray("facebook-like",this.options.buttons.order)>=0&&this._startTrackIFrameSizes()},_updateLockerPosition:function(){if(this.overlap){if("top"===this.options.overlap.position||"scroll"===this.options.overlap.position){var t=this.overlapBox.outerWidth(),e=this.locker.outerWidth(),o=this.overlapBox.outerHeight(),n=this.locker.outerHeight(),s=this.options.overlap.offset;if(!s){var s=Math.floor((t-e)/2);10>=s&&(s=10)}if(2*s+n>o)var s=Math.floor((o-n)/2);this.overlapLockerBox.css("marginTop",s+"px"),"scroll"===this.options.overlap.position&&(this._baseOffset=s,this._updateLockerPositionOnScrolling())}return"middle"===this.options.overlap.position?void this.overlapLockerBox.css("marginTop","-"+Math.floor(this.overlapLockerBox.innerHeight()/2)+"px"):void 0}},_updateLockerPositionOnScrolling:function(){var e=this.overlapBox.offset(),o=e.top,n=e.left,s=e.top+this.overlapBox.outerHeight(),i=this.overlapBox.outerWidth(),r=this.overlapBox.outerHeight(),a=this.locker.outerHeight();if(!(2*this._baseBoxOffset+a+10>=r)){var l=t(document).scrollTop(),c=20;return l+a+2*this._baseOffset+c>s?void this.overlapLockerBox.css("position","absolute").css("top","auto").css("left","0px").css("width","auto").css("bottom",this._baseOffset+"px").css("margin-top","0px"):l+c>o?void this.overlapLockerBox.css("position","fixed").css("top",this._baseOffset+c+"px").css("left",n+"px").css("width",i+"px").css("bottom","auto").css("margin-top","0px"):void this.overlapLockerBox.css("position","absolute").css("top","0px").css("left","0px").css("bottom","auto").css("width","auto").css("margin-top",this._baseOffset+"px")}},_createButtonMarkup:function(){var e=this,o={run:!1};if(t(document).trigger("buttonMarkup.sociallocker.onp",[e,o]),!o.run){this.buttonsWrap=t("<div class='onp-sociallocker-buttons'></div>").appendTo(this.innerWrap);var n=50;t.each(this.options.buttons.order,function(o,s){if("string"!=typeof s)return!0;if("#"===s)return e.buttonsWrap.append("<div class='onp-button-separator'></div>"),!0;if(e.options.buttons.unsupported&&jQuery.inArray(s,e.options.buttons.unsupported)>=0){var i='The button "'+s+'" is not supported by this theme.',r=t("<div class='onp-sociallocker-button onp-sociallocker-button-unsupported'></div>").css("z-index",n),a=t("<div class='onp-sociallocker-button-inner-wrap'>"+i+"</div>").appendTo(r);return e.buttonsWrap.append(r),!0}var l=s.split("-"),c=2===l.length?l[0]:null,u=2===l.length?l[1]:l[0],p={};c?(e.options[c]&&(p=t.extend({},e.options[c])),e.options[c][u]&&(p=t.extend(p,e.options[c][u]))):e.options[u]&&(p=t.extend(p,e.options[u])),p.url=URL.normalize(p.url||e.options.url||window.location.href),p._provider=e._providers[s],p.unlock=function(t){return e.options.locker.stepByStep?void e._completeStep(p,r):e._unlock(t,p._provider)},p.demo=e.options.demo;var r=t("<div class='onp-sociallocker-button onp-sociallocker-button-"+s+" onp-sociallocker-state-loading'></div>").css("z-index",n);r.addClass("onp-sociallocker-button-"+c),r.data("name",s),e.buttonsWrap.append(r);var a=t("<div class='onp-sociallocker-button-inner-wrap'></div>").appendTo(r),d=c?t.onepress.sociallocker[c][u]:t.onepress.sociallocker[u],h=d.create(a,p,e);if(e.options.locker.stepByStep&&p._provider.getState(function(t){e._setButtonState(t,r)}),h){var f=d.getVerificationData?d.getVerificationData(p):{container:"iframe",timeout:5e3};if(c){var g=(t.onepress.sdk[c],!1);setTimeout(function(){g||e.setButtonError(a,t.onepress.sociallocker.lang.unableToLoadSDK.replace("{0}",c))},e.options.locker.loadingTimeout),t.onepress.connector.connect(c,p,function(o){g=!0;var n=f.timeout,i=function(){return 0===r.find(f.container).length&&n>=0?(setTimeout(function(){i()},500),void(n-=500)):(r.removeClass("onp-sociallocker-state-loading"),0>=n?void e.setButtonError(a,t.onepress.sociallocker.lang.unableToCreateButton.replace("{0}",s)):void a.trigger("onp-sl-button-created"))};i()})}else r.removeClass("onp-sociallocker-state-loading"),a.trigger("onp-sl-button-created")}var k=e.options.effects.flip,v=t.onepress.tools.has3d();if(k&&v&&r.addClass("onp-sociallocker-flip")||r.addClass("onp-sociallocker-no-flip"),!k)return!0;var i=p.title||(c?t.onepress.sociallocker.lang[c+"_"+u]:t.onepress.sociallocker.lang[u]),b=t("<a></a>").addClass("onp-sociallocker-button-overlay").append(t("<div class='onp-sociallocker-overlay-back'></div>")).append(t("<div class='onp-sociallocker-overlay-front'></div>").append(t("<div class='onp-sociallocker-overlay-icon'></div>")).append(t("<div class='onp-sociallocker-overlay-line'></div>")).append(t("<div class='onp-sociallocker-overlay-text'>"+i+"</div>"))).append(t("<div class='onp-sociallocker-overlay-header'></div>"));b.prependTo(a),v||e._isCompletedStep(r)||r.hover(function(){var e=t(this).find(".onp-sociallocker-button-overlay");e.stop().animate({opacity:0},200,function(){e.hide()})},function(){var e=t(this).find(".onp-sociallocker-button-overlay").show();e.stop().animate({opacity:1},200)}),t.onepress.isTouch()&&(v?b.click(function(){var e=t(this).parents(".onp-sociallocker-button");return e.hasClass("onp-sociallocker-flip-hover")?e.removeClass("onp-sociallocker-flip-hover"):(t(".onp-sociallocker-flip-hover").removeClass("onp-sociallocker-flip-hover"),e.addClass("onp-sociallocker-flip-hover")),!1}):e._isCompletedStep(r)||b.click(function(){var e=t(this);return e.stop().animate({opacity:0},200,function(){e.hide()}),!1})),b&&(b.css("z-index",n),b.find(".onp-sociallocker-overlay-front").css("z-index",1),b.find(".onp-sociallocker-overlay-back").css("z-index",-1),b.find(".onp-sociallocker-overlay-header").css("z-index",1)),n-=5})}},setButtonError:function(t,e){t.parent().hasClass("onp-sociallocker-state-error")||(this._createErrorMarkup(e).appendTo(t),t.parent().removeClass("onp-sociallocker-state-loading").addClass("onp-sociallocker-state-error"),this._buttonErrorCounter++,this._buttonErrorCounter>=this._buttonsCount&&this.events.notAvailable&&("show-content"===this.options.locker.naMode&&this._unlock("na"),this.events.notAvailable()))},_createErrorMarkup:function(e){var o=this,n=t("<div class='onp-sociallocker-error-body'><a href='#' class='onp-sociallocker-error-title'>"+t.onepress.sociallocker.lang.error+"</a><div class='onp-sociallocker-error-text'>"+e+"</div></div>"),s=n.find(".onp-sociallocker-error-text"),i=n.find(".onp-sociallocker-error-title");return i.click(function(){return o.locker.find(".onp-sociallocker-shown-error").remove(),n.hasClass("onp-sociallocker-active")?n.removeClass("onp-sociallocker-active"):(o.locker.find(".onp-sociallocker-active").removeClass("onp-sociallocker-active"),n.addClass("onp-sociallocker-active"),o.buttonsWrap.after(s.clone().addClass("onp-sociallocker-shown-error"))),!1}),n},_createClosingCross:function(){var e=this;t("<div class='onp-sociallocker-cross' title='"+t.onepress.sociallocker.lang.close+"' />").prependTo(this.locker).click(function(){e.close&&e.close(e)||e._unlock("cross",!0)})},_createTimer:function(){this.timer=t("<span class='onp-sociallocker-timer'></span>");var e=t.onepress.sociallocker.lang.orWait,o=t.onepress.sociallocker.lang.seconds;this.timerLabel=t("<span class='onp-sociallocker-timer-label'>"+e+" </span>").appendTo(this.timer),this.timerCounter=t("<span class='onp-sociallocker-timer-counter'>"+this.options.locker.timer+o+"</span>").appendTo(this.timer),this.timer.appendTo(this.locker),this.counter=this.options.locker.timer,this._kickTimer()},_kickTimer:function(){var e=this;setTimeout(function(){if(e._isLocked)if(e.counter--,e.counter<=0)e._unlock("timer");else{if(e.timerCounter.text(e.counter+t.onepress.sociallocker.lang.seconds),t.onepress.browser.opera){var o=e.timerCounter.clone();o.insertAfter(e.timerCounter),e.timerCounter.remove(),e.timerCounter=o}e._kickTimer()}},1e3)},_startTrackIFrameSizes:function(){if(!this.options.facebook.like.theConfirmIssue){var e=this;this._trackIFrameTimer=null,this.locker.hover(function(){var o=e.locker.find(".onp-facebook-like-button"),n=o.find("iframe");n.length&&(e._trackIFrameTimer=setInterval(function(){var s=parseInt(n[0].style.height);if(s||(s=n.height()),s>200){e._stopTrackIFrameSizes();var i=o.find(".fake-fb-like").data("url-to-verify");t(document).trigger("onp-sl-facebook-like",[i])}},500))},function(){e._stopTrackIFrameSizes()})}},_stopTrackIFrameSizes:function(){this._trackIFrameTimer&&clearInterval(this._trackIFrameTimer)},_isCompletedStep:function(t){return t.hasClass("onp-sl-step-completed")},_setButtonState:function(t,e){t?e.addClass("onp-sl-step-completed"):e.removeClass("onp-sl-step-completed")},_completeStep:function(t,e){var o=this,n=t._provider;n.setState("unlocked"),this._setButtonState(!0,e),this.events.step&&this.events.step("button",n&&n.name,n&&n.url),this._controller.getState(function(t){return t.state?o._unlock("step-by-step"):void 0})},_lock:function(t,e){var o=this;this._isLocked||this._stoppedByWatchdog||(this._markupIsCreated||this._createMarkup(),"button"===t&&e.setState("locked"),this.overlap?(this.overlapLockerBox.fadeIn(1e3,function(){o._updateLockerPosition()}),o._updateLockerPosition()):(this.element.hide(),this.locker.fadeIn(1e3)),this._isLocked=!0,this.events.lock&&this.events.lock(t,e&&e.name),this._tumblerOn())},_unlock:function(e,o){var n=this;if(!this.options.locker.off){if(!this._isLocked)return this._showContent("button"!==e),!1;"button"===e&&(o.setState("unlocked"),n.options.locker.scope&&t(document).trigger("unlockByScope.sl.onp",[n.element,n.options.locker.scope])),this._tumblerOff(),this._showContent(!0),this._isLocked=!1,"scope"!==e&&("timer"===e&&this.events.unlockByTimer&&this.events.unlockByTimer(),"cross"===e&&this.events.unlockByClose&&this.events.unlockByClose(),"step-by-step"===e&&this.events.unlockBySteps&&this.events.unlockBySteps(),this.events.unlock&&this.events.unlock(e,o&&o.name,o&&o.url))}},lock:function(){this._lock("user")},unlock:function(){this._unlock("user")},_tumblerOn:function(){if(this.options.locker.tumbler&&!this.options.locker.off&&!this._tumblerTicker){var t=this;this._tumblerTicker=setInterval(function(){t._tumblerTicker&&(t.locker.is(":visible")||t.locker.css("display","block"),t.overlap?t.overlapBox&&t.overlapBox.is(":visible")||t.overlapBox.css("display","block"):t.element.is(":visible")&&t.element.css("display","none"))},this.options.locker.tumblerInterval||500)}},_tumblerOff:function(){this.options.locker.tumbler&&!this.options.locker.off&&this._tumblerTicker&&(clearInterval(this._tumblerTicker),this._tumblerTicker=null)},_showContent:function(e){var o=this;this._stopTrackIFrameSizes();var n=function(){return o.overlap?(o.overlapBox&&o.overlapBox.hide(),o.blurArea&&o.blurArea.unblur()):o.locker&&o.locker.hide(),o.locker&&o.locker.hide(),e?void o.element.fadeIn(1e3,function(){o.options.effects.highlight&&o.element.effect&&o.element.effect("highlight",{color:"#fffbcc"},800)}):void o.element.show()};if(this.options.content)if("string"==typeof this.options.content)this.element.html(this.options.content),n();else if("object"!=typeof this.options.content||this.options.content.url)if("object"==typeof this.options.content&&this.options.content.url){var s=t.extend(!0,{},this.options.content),i=s.success,r=s.complete,a=s.error;s.success=function(t,e,s){i?i(o,t,e,s):o.element.html(t),n()},s.error=function(t,e,n){o._setError("An error is triggered during the ajax request! Text: "+e+" "+n),a&&a(t,e,n)},s.complete=function(t,e){r&&r(t,e)},t.ajax(s)}else n();else this.element.append(this.options.content.clone().show()),n();else n()}}),t.fn.socialLock=function(e){e=t.extend({},e),t(this).sociallocker(e)})}(jQuery);