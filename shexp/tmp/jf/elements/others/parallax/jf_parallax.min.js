/**
* @version		JF_ES_DTE_078
* @author		JoomForest http://www.joomforest.com (credit - https://github.com/Form5/parallax)
* @copyright	Copyright (C) 2011-2016 JoomForest.com
* @license		http://www.gnu.org/licenses/gpl-2.0.html GNU/GPL
*/
!function(t){t.fn.jf_Parallax=function(a){var r=t.extend({jf_speedDivider:6,jf_position:"relative",jf_scrollDirec:"down"},a);return this.each(function(){var a=0,n=!1,s=t(this),e=t(this).children(".bg"),o=t(this).children(".mask"),i=o.attr("data-parallax-opacity")/100,l=e.parent().children(".content"),m=r.jf_speedDivider,d=r.jf_position;if(s.hasClass("cover")?slideMargin="0":slideMargin="-150","up"==r.jf_scrollDirec)var f="-";else var f="+";if("fixed"==d&&e.css("position",d),!s.hasClass("cover")){var c=t(this).height()+-1*parseInt(slideMargin)*2;e.css("height",c)}o.css("opacity",i);var w=function(){var a=e.parent().offset().top,r=t(document).scrollTop(),o=s.height(),i=1-(r-a)/o;if(s.hasClass("cover")){var d=(r-a)/m*2,c=(r-a)/m*1.5;if(0>d&&(d=0),r>a&&o>r){var w=parseInt(f+d);if(e.css({"-webkit-transform":"translate3d(0,"+w+"px,0)","-moz-transform":"translate3d(0,"+w+"px,0)","-ms-transform":"translate3d(0,"+w+"px,0)","-o-transform":"translate3d(0,"+w+"px,0)",transform:"translate3d(0,"+w+"px,0)"}),l.hasClass("scrolling")){var p=parseInt(f+c);l.css({"-webkit-transform":"translate3d(0,"+p+"px,0)","-moz-transform":"translate3d(0,"+p+"px,0)","-ms-transform":"translate3d(0,"+p+"px,0)","-o-transform":"translate3d(0,"+p+"px,0)",transform:"translate3d(0,"+p+"px,0)",opacity:i})}}else e.css({"-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-ms-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}),l.hasClass("scrolling")&&l.css({"-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-ms-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)",opacity:"1"})}else{var d=(r+t(window).height()-a)/m,c=(r+t(window).height()-a)/m*1.5;if(0>d&&(d=0),r+t(window).height()>a&&r<a+t(window).height()){var w=parseInt(slideMargin)+parseInt(f+d);if(e.css({"-webkit-transform":"translate3d(0,"+w+"px,0)","-moz-transform":"translate3d(0,"+w+"px,0)","-ms-transform":"translate3d(0,"+w+"px,0)","-o-transform":"translate3d(0,"+w+"px,0)",transform:"translate3d(0,"+w+"px,0)"}),l.hasClass("scrolling")){var p=parseInt(slideMargin)+parseInt(f+c);l.css({"-webkit-transform":"translate3d(0,"+p+"px,0)","-moz-transform":"translate3d(0,"+p+"px,0)","-ms-transform":"translate3d(0,"+p+"px,0)","-o-transform":"translate3d(0,"+p+"px,0)",transform:"translate3d(0,"+p+"px,0)",opacity:i})}}else e.css({"-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-ms-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}),l.hasClass("scrolling")&&l.css({"-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-ms-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)",opacity:"1"})}n=!1},p=function(){n||(window.requestAnimationFrame(w),n=!0)};!function(){var r=0,n=function(){r||(r=1,h(),t(window).scroll(function(){a=window.pageYOffset,p()}))};"complete"===document.readyState?setTimeout(n):(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1))}();var h=function(){var t,a,r;for(t=0,a=["webkit","moz"],r=0;r<a.length&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[a[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[r]+"CancelAnimationFrame"]||window[a[r]+"CancelRequestAnimationFrame"],++r;window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var r,n,s;return r=(new Date).getTime(),s=Math.max(0,16-(r-t)),n=window.setTimeout(function(){a(r+s)},s),t=r+s,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}})}}(jQuery);